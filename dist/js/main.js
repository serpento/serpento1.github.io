angular.module("sumModule",["ngRoute"]).controller("sumCtrl",["$scope","$routeParams","$location","$http",function(t,n,e,r){t.list={summand1:parseInt(n.summand1)||"",summand2:parseInt(n.summand2)||""},t.setUrl=function(){t.list.summand1&&t.list.summand2&&e.path("/"+t.list.summand1+"/"+t.list.summand2)},r.get("http://api.fixer.io/latest").then(function(n){t.currencyRates=n.data.rates},function(t){console.log("Oops!")})}]).directive("laSum",function(){return{restrict:"E",scope:{list:"=",currencyRates:"="},template:'<input type="text" readonly="true" value="{{ summarize() }}" /><span>{{ getSumInCurrency("CAD") }}</span> CAD',link:function(t){function n(){return _.reduce(t.list,function(t,n){return t+n},0)}function e(t){return"sum is: "+t}function r(t){console.log(t)}var u=_.compose(r,e);t.summarize=function(){return u(n()),n()},t.getSumInCurrency=function(e){return t.currencyRates?n()/t.currencyRates[e]:void 0}}}}).config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/sum.html",controller:"sumCtrl"}).when("/:summand1/:summand2",{templateUrl:"partials/sum.html",controller:"sumCtrl"}).otherwise({redirectTo:"/"})}]);